function onYouTubeIframeAPIReady(){SC.apiIsLoaded=!0}var SC={player:null,apiIsLoaded:!1,playerStatus:null,debug:!1,specialStatus:null,log:function(e){SC.debug&&window.console&&console.log("SC-Debug: "+e)}};!function(e){var n={moduleUrl:"/scvg/playlist/",layerId:"sc-layer",eventPrefix:"scvg",enableLayerClose:0,videoContainer:"sc-video-container",animate:{close:!1},ytPlayerVars:{autoplay:1,version:3,enablejsapi:1,fs:1,hl:"de",modestbranding:1,rel:0,showinfo:0,cc_load_policy:1,autohide:1,html5:1,origin:window.location.origin},translations:{de:{"short-description":"Kurzbeschreibung des Videos","close-gallery":"Videogalerie schlie√üen","long-description":"Textfassung des Videos"}},lang:"de"},a="https://www.googleapis.com/youtube/v3/",t={part:"snippet",maxResults:15},s={},o={navDescIcon:"i.fa-info-circle",navLongDesc:"fa-bars",navLongDescGeneral:"i.long-desc",navVideo:"fa-file-video-o",navCloseIcon:"i.fa-times",topNavigation:".sc-operating-panel",longDescription:"sc-long-desc",navPanel:"#sc-navigation",descContainer:"#sc-description"},l={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"},r={process:function(o){var l=null,d=null,c=null;if(l=r.detectYoutubePlaylist(o)){s=l,d=a+"playlistItems?";var p=e.extend({},t,{playlistId:l.list});c=[];for(i in p)c.push(i+"="+p[i]);c=c.join("&")}else{var v=o.indexOf(location.hostname)+location.hostname.length+1;d=n.moduleUrl,c=o.slice(v).replace(/\//g,"|"),c=encodeURIComponent(c)}d+=c,e.get(d,function(i){if(i="string"===e.type(i)?e.parseJSON(i):i,"shortcut#playlistListResponse"==i.kind){s=i.playlistParams;for(var n=[],o=a+"videos?",l=[],d=0;d<i.pageInfo.totalResults;d++)n.push(i.dataMaps[d].id);for(key in t)l.push(key+"="+t[key]);l.push("id="+n.join(",")),o+=l.join("&"),e.get(o,function(e){i.items=e.items,r.insertVideoDetails(i)})}else r.insertVideoDetails(i)})},insertVideoDetails:function(i){var a=e(r.createLayout()),t=e("#sc-navigation",a),l=i.items.length,d=-1;1===n.enableLayerClose&&a.on("click."+n.eventPrefix,r.end),e(window).on("resize."+n.eventPrefix,function(){r.resize.apply(a)});for(var c=0;l>c;c++){var p=i.items[c],v=e("<img />",{src:p.snippet.thumbnails.default.url}),g=e("<h4 />").text(p.snippet.title),u=null,f=null,h=null,y=null,C="",m=["sc-nav-item","clearfix"];if("shortcut#playlistListResponse"==i.kind){y=p.id;var S=i.dataMaps[c].longdesc;S&&(C=e("<div />",{"class":"template long-desc"}).append(S))}else y=p.snippet.resourceId.videoId;y==s.v&&(m.push("active"),d=c);var h=e("<div />",{"class":m.join(" "),"data-ytid":y}).append('<a href="#" ></a>').append(C).appendTo(t);f=h.children("a"),p.snippet.description&&(u=e("<p />",{"class":"description"}).text(p.snippet.description),0==c&&(e(o.navDescIcon,o.topNavigation).removeClass("hidden"),u.clone().appendTo(o.descContainer))),f.append(v,e("<div />").append(g,u))}e("body").addClass("sc-no-overflow").append(a),r.resize.apply(e("#"+n.layerId)),r.loadFirstVideo(d),e(t).perfectScrollbar({suppressScrollX:!0}),e("#"+o.longDescription).perfectScrollbar({suppressScrollX:!0})},loadVideo:function(){var i=e(o.topNavigation),n=this.find(".long-desc"),a=this.find("p.description");SC.player.loadVideoById(this.data("ytid")),this.siblings().removeClass("active").end().addClass("active"),r.insertLongDesc.apply(n,[i]),r.insertDescription.apply(a,[i])},loadFirstVideo:function(i){var a=e(o.topNavigation),t=e(o.navDescIcon,a),l=e(o.navPanel).children(".sc-nav-item").eq(i),d=l.find(".long-desc"),c=l.find(".description");e(o.navCloseIcon,a).on("click."+n.eventPrefix,r.end),e(o.navLongDescGeneral,a).on("click."+n.eventPrefix,function(){r.toggleLongDescription.apply(e(this))}),r.insertLongDesc.apply(d,[a]),c.length>0&&r.insertDescription.apply(c),t.on("click."+n.eventPrefix,r.toggleDesc),e(".sc-nav-item").on("click."+n.eventPrefix,function(){return r.loadVideo.apply(e(this)),!1}),SC.player=new YT.Player("sc-player",{videoId:s.v,playerVars:n.ytPlayerVars,events:{onReady:r.events.onReady,onStateChange:r.events.onStateChange,onError:r.events.onError}})},insertLongDesc:function(i){i=i?i:e(o.topNavigation);var n=this,a=e("#"+o.longDescription);a.empty(),n.length>0?(r.toggleLongDescription.apply(e(o.navLongDescGeneral,i),["video",!1]),n.first().clone().removeClass("template").appendTo(a)):r.toggleLongDescription.apply(e(o.navLongDescGeneral,i),["disable"])},insertDescription:function(i){i=i?i:e(o.topNavigation);var n=e(o.descContainer),a=this;n.empty(),a.length>0?(e(o.navDescIcon,i).removeClass("hidden"),a.clone().appendTo(n)):e(o.navDescIcon,i).addClass("hidden")},toggleDesc:function(){var i=e(o.navDescIcon,o.topNavigation);switch(SC.specialStatus){case null:SC.specialStatus="desc";break;case"desc":SC.specialStatus=null;break;case"ld":r.toggleLongDescription.apply(e(),["video",!0]),SC.specialStatus="desc"}i.toggleClass("active"),e(o.descContainer).toggle("fast")},toggleLongDescription:function(i,n){switch($this=this,0==$this.length&&($this=e(o.navLongDescGeneral)),i&&"toggle"!=i||(i=$this.hasClass(o.navLongDesc)?"ld":"video"),n=void 0!=n?n:!0,i){case"disable":$this.addClass("hidden"),n=!1;break;case"ld":"desc"==SC.specialStatus&&r.toggleDesc(),$this.removeClass("hidden "+o.navLongDesc).addClass(o.navVideo+" active"),SC.specialStatus="ld",(1==SC.playerStatus||3==SC.playerStatus)&&SC.player.pauseVideo();break;case"video":$this.removeClass("hidden active "+o.navVideo).addClass(o.navLongDesc),SC.specialStatus=null,2==SC.playerStatus&&SC.player.playVideo();break;default:throw"not a valid status in toggleLongDesc()"}n&&e("#"+o.longDescription).slideToggle(400).perfectScrollbar("update")},resize:function(){var i=e("."+n.videoContainer),a=this.find("iframe"),t=(e(window).height()-i.height())/2;if(this.offset({top:window.scrollY}),i.css("marginTop",t),a.length>0){var s=a.first().width(),l=i.width()-s;e(o.navPanel).width(l),e(o.descContainer).css("maxWidth",s)}},end:function(){n.animate.close&&Modernizr.cssanimations?(SC.player.pauseVideo(),e("."+n.videoContainer).addClass("animate-out")):r.remove()},remove:function(){SC.specialStatus=null,e("#"+n.layerId).remove(),e("body").removeClass("sc-no-overflow")},detectYoutubePlaylist:function(e){if(e.indexOf("https://www.youtube.com")>-1){var i={};e=e.split("?").pop().split("&");for(var n=0;n<e.length;n++){var a=e[n].split("=");i[a[0]]=a[1]}if("v"in i&&"list"in i)return i}return null},createLayout:function(){return'<div id="'+n.layerId+'"><div class="'+n.videoContainer+' hidden" ><div class="sc-operating-panel"><i title="'+r.trans("short-description")+'" class="fa fa-info-circle fa-2x fa-fw hidden"></i><i title="'+r.trans("long-description")+'" class="fa fa-bars fa-2x fa-fw long-desc hidden"></i><i title="'+r.trans("close-gallery")+'" class="fa fa-times fa-2x fa-fw"></i></div><div class="sc-ratio-wrapper"><div id="sc-navigation" ></div><div id="sc-description"></div><div id="sc-player"></div></div><div id="'+o.longDescription+'"></div></div></div'},trans:function(e){return void 0!==n.translations[n.lang][e]?n.translations[n.lang][e]:null},events:{onReady:function(){var i=e("#"+n.layerId);n.animate.close&&e("."+n.videoContainer).on(l[Modernizr.prefixed("animation")],r.remove),e("."+n.videoContainer).removeClass("hidden"),i.addClass("simple"),r.resize.apply(i)},onStateChange:function(e){SC.playerStatus=e.data,SC.log("statechange to "+e.data)},onError:function(e){SC.log(e.data)}}};e.fn.scVideoGallery=function(i){return e.extend(n,i),this.length>0&&e.get("/scvg/apikey",function(e){t.key=e}),this.each(function(){var i=e(this);i.on("click."+n.eventPrefix,{url:i.prop("href")},function(e){return e.preventDefault(),e.stopPropagation(),r.process.apply(i,[e.data.url]),!1})})}}(jQuery);
